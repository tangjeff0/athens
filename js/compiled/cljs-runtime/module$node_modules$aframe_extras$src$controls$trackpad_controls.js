shadow$provide.module$node_modules$aframe_extras$src$controls$trackpad_controls=function(global,require,module,exports){module.exports=AFRAME.registerComponent("trackpad-controls",{schema:{enabled:{default:!0},enableNegX:{default:!0},enablePosX:{default:!0},enableNegZ:{default:!0},enablePosZ:{default:!0},mode:{default:"touch",oneOf:["swipe","touch","press"]}},init:function(){this.dVelocity=new THREE.Vector3;this.xVel=this.zVel=0;this.bindMethods()},play:function(){this.addEventListeners()},pause:function(){this.removeEventListeners();
this.dVelocity.set(0,0,0)},remove:function(){this.pause()},addEventListeners:function(){var data=this.data,sceneEl=this.el.sceneEl;sceneEl.addEventListener("axismove",this.onAxisMove);switch(data.mode){case "swipe":case "touch":sceneEl.addEventListener("trackpadtouchstart",this.onTouchStart);sceneEl.addEventListener("trackpadtouchend",this.onTouchEnd);break;case "press":sceneEl.addEventListener("trackpaddown",this.onTouchStart),sceneEl.addEventListener("trackpadup",this.onTouchEnd)}},removeEventListeners:function(){var sceneEl=
this.el.sceneEl;sceneEl.removeEventListener("axismove",this.onAxisMove);sceneEl.removeEventListener("trackpadtouchstart",this.onTouchStart);sceneEl.removeEventListener("trackpadtouchend",this.onTouchEnd);sceneEl.removeEventListener("trackpaddown",this.onTouchStart);sceneEl.removeEventListener("trackpadup",this.onTouchEnd)},isVelocityActive:function(){return this.data.enabled&&this.isMoving},getVelocityDelta:function(){this.dVelocity.z=this.isMoving?-this.zVel:1;this.dVelocity.x=this.isMoving?this.xVel:
1;return this.dVelocity.clone()},bindMethods:function(){this.onTouchStart=this.onTouchStart.bind(this);this.onTouchEnd=this.onTouchEnd.bind(this);this.onAxisMove=this.onAxisMove.bind(this)},onTouchStart:function(e){switch(this.data.mode){case "swipe":this.canRecordAxis=!0;this.startingAxisData=[];break;case "touch":this.isMoving=!0;break;case "press":this.isMoving=!0}e.preventDefault()},onTouchEnd:function(e){"swipe"==this.data.mode&&(this.startingAxisData=[]);this.isMoving=!1;e.preventDefault()},
onAxisMove:function(e){switch(this.data.mode){case "swipe":return this.handleSwipeAxis(e);case "touch":case "press":return this.handleTouchAxis(e)}},handleSwipeAxis:function(e){var data=this.data;e=e.detail.axis;0===this.startingAxisData.length&&this.canRecordAxis&&(this.canRecordAxis=!1,this.startingAxisData[0]=e[0],this.startingAxisData[1]=e[1]);if(0<this.startingAxisData.length){var velX=0,velZ=0;data.enableNegX&&e[0]<this.startingAxisData[0]&&(velX=-1);data.enablePosX&&e[0]>this.startingAxisData[0]&&
(velX=1);data.enablePosZ&&e[1]>this.startingAxisData[1]&&(velZ=-1);data.enableNegZ&&e[1]<this.startingAxisData[1]&&(velZ=1);Math.abs(this.startingAxisData[0]-e[0])>Math.abs(this.startingAxisData[1]-e[1])?(this.zVel=0,this.xVel=velX):(this.xVel=0,this.zVel=velZ);this.isMoving=!0}},handleTouchAxis:function(e){var data=this.data;e=e.detail.axis;var velX=0,velZ=0;data.enableNegX&&0>e[0]&&(velX=-1);data.enablePosX&&0<e[0]&&(velX=1);data.enablePosZ&&0<e[1]&&(velZ=-1);data.enableNegZ&&0>e[1]&&(velZ=1);Math.abs(e[0])>
Math.abs(e[1])?(this.zVel=0,this.xVel=velX):(this.xVel=0,this.zVel=velZ)}})}
//# sourceMappingURL=module$node_modules$aframe_extras$src$controls$trackpad_controls.js.map
