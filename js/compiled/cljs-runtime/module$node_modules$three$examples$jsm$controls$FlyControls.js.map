{
"version":3,
"file":"module$node_modules$three$examples$jsm$controls$FlyControls.js",
"lineCount":13,
"mappings":"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",
"sources":["node_modules/three/examples/jsm/controls/FlyControls.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$three$examples$jsm$controls$FlyControls\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FlyControls = void 0;\n\nvar _threeModule = require(\"../../../build/three.module.js\");\n\nvar FlyControls = function FlyControls(object, domElement) {\n  if (domElement === undefined) {\n    console.warn('THREE.FlyControls: The second parameter \"domElement\" is now mandatory.');\n    domElement = document;\n  }\n\n  this.object = object;\n  this.domElement = domElement;\n  if (domElement) this.domElement.setAttribute('tabindex', -1); // API\n\n  this.movementSpeed = 1.0;\n  this.rollSpeed = 0.005;\n  this.dragToLook = false;\n  this.autoForward = false; // disable default target object behavior\n  // internals\n\n  var scope = this;\n  var changeEvent = {\n    type: 'change'\n  };\n  var EPS = 0.000001;\n  this.tmpQuaternion = new _threeModule.Quaternion();\n  this.mouseStatus = 0;\n  this.moveState = {\n    up: 0,\n    down: 0,\n    left: 0,\n    right: 0,\n    forward: 0,\n    back: 0,\n    pitchUp: 0,\n    pitchDown: 0,\n    yawLeft: 0,\n    yawRight: 0,\n    rollLeft: 0,\n    rollRight: 0\n  };\n  this.moveVector = new _threeModule.Vector3(0, 0, 0);\n  this.rotationVector = new _threeModule.Vector3(0, 0, 0);\n\n  this.keydown = function (event) {\n    if (event.altKey) {\n      return;\n    } //event.preventDefault();\n\n\n    switch (event.code) {\n      case 'ShiftLeft':\n      case 'ShiftRight':\n        this.movementSpeedMultiplier = .1;\n        break;\n\n      case 'KeyW':\n        this.moveState.forward = 1;\n        break;\n\n      case 'KeyS':\n        this.moveState.back = 1;\n        break;\n\n      case 'KeyA':\n        this.moveState.left = 1;\n        break;\n\n      case 'KeyD':\n        this.moveState.right = 1;\n        break;\n\n      case 'KeyR':\n        this.moveState.up = 1;\n        break;\n\n      case 'KeyF':\n        this.moveState.down = 1;\n        break;\n\n      case 'ArrowUp':\n        this.moveState.pitchUp = 1;\n        break;\n\n      case 'ArrowDown':\n        this.moveState.pitchDown = 1;\n        break;\n\n      case 'ArrowLeft':\n        this.moveState.yawLeft = 1;\n        break;\n\n      case 'ArrowRight':\n        this.moveState.yawRight = 1;\n        break;\n\n      case 'KeyQ':\n        this.moveState.rollLeft = 1;\n        break;\n\n      case 'KeyE':\n        this.moveState.rollRight = 1;\n        break;\n    }\n\n    this.updateMovementVector();\n    this.updateRotationVector();\n  };\n\n  this.keyup = function (event) {\n    switch (event.code) {\n      case 'ShiftLeft':\n      case 'ShiftRight':\n        this.movementSpeedMultiplier = 1;\n        break;\n\n      case 'KeyW':\n        this.moveState.forward = 0;\n        break;\n\n      case 'KeyS':\n        this.moveState.back = 0;\n        break;\n\n      case 'KeyA':\n        this.moveState.left = 0;\n        break;\n\n      case 'KeyD':\n        this.moveState.right = 0;\n        break;\n\n      case 'KeyR':\n        this.moveState.up = 0;\n        break;\n\n      case 'KeyF':\n        this.moveState.down = 0;\n        break;\n\n      case 'ArrowUp':\n        this.moveState.pitchUp = 0;\n        break;\n\n      case 'ArrowDown':\n        this.moveState.pitchDown = 0;\n        break;\n\n      case 'ArrowLeft':\n        this.moveState.yawLeft = 0;\n        break;\n\n      case 'ArrowRight':\n        this.moveState.yawRight = 0;\n        break;\n\n      case 'KeyQ':\n        this.moveState.rollLeft = 0;\n        break;\n\n      case 'KeyE':\n        this.moveState.rollRight = 0;\n        break;\n    }\n\n    this.updateMovementVector();\n    this.updateRotationVector();\n  };\n\n  this.mousedown = function (event) {\n    if (this.domElement !== document) {\n      this.domElement.focus();\n    }\n\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (this.dragToLook) {\n      this.mouseStatus++;\n    } else {\n      switch (event.button) {\n        case 0:\n          this.moveState.forward = 1;\n          break;\n\n        case 2:\n          this.moveState.back = 1;\n          break;\n      }\n\n      this.updateMovementVector();\n    }\n  };\n\n  this.mousemove = function (event) {\n    if (!this.dragToLook || this.mouseStatus > 0) {\n      var container = this.getContainerDimensions();\n      var halfWidth = container.size[0] / 2;\n      var halfHeight = container.size[1] / 2;\n      this.moveState.yawLeft = -(event.pageX - container.offset[0] - halfWidth) / halfWidth;\n      this.moveState.pitchDown = (event.pageY - container.offset[1] - halfHeight) / halfHeight;\n      this.updateRotationVector();\n    }\n  };\n\n  this.mouseup = function (event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (this.dragToLook) {\n      this.mouseStatus--;\n      this.moveState.yawLeft = this.moveState.pitchDown = 0;\n    } else {\n      switch (event.button) {\n        case 0:\n          this.moveState.forward = 0;\n          break;\n\n        case 2:\n          this.moveState.back = 0;\n          break;\n      }\n\n      this.updateMovementVector();\n    }\n\n    this.updateRotationVector();\n  };\n\n  this.update = function () {\n    var lastQuaternion = new _threeModule.Quaternion();\n    var lastPosition = new _threeModule.Vector3();\n    return function (delta) {\n      var moveMult = delta * scope.movementSpeed;\n      var rotMult = delta * scope.rollSpeed;\n      scope.object.translateX(scope.moveVector.x * moveMult);\n      scope.object.translateY(scope.moveVector.y * moveMult);\n      scope.object.translateZ(scope.moveVector.z * moveMult);\n      scope.tmpQuaternion.set(scope.rotationVector.x * rotMult, scope.rotationVector.y * rotMult, scope.rotationVector.z * rotMult, 1).normalize();\n      scope.object.quaternion.multiply(scope.tmpQuaternion);\n\n      if (lastPosition.distanceToSquared(scope.object.position) > EPS || 8 * (1 - lastQuaternion.dot(scope.object.quaternion)) > EPS) {\n        scope.dispatchEvent(changeEvent);\n        lastQuaternion.copy(scope.object.quaternion);\n        lastPosition.copy(scope.object.position);\n      }\n    };\n  }();\n\n  this.updateMovementVector = function () {\n    var forward = this.moveState.forward || this.autoForward && !this.moveState.back ? 1 : 0;\n    this.moveVector.x = -this.moveState.left + this.moveState.right;\n    this.moveVector.y = -this.moveState.down + this.moveState.up;\n    this.moveVector.z = -forward + this.moveState.back; //console.log( 'move:', [ this.moveVector.x, this.moveVector.y, this.moveVector.z ] );\n  };\n\n  this.updateRotationVector = function () {\n    this.rotationVector.x = -this.moveState.pitchDown + this.moveState.pitchUp;\n    this.rotationVector.y = -this.moveState.yawRight + this.moveState.yawLeft;\n    this.rotationVector.z = -this.moveState.rollRight + this.moveState.rollLeft; //console.log( 'rotate:', [ this.rotationVector.x, this.rotationVector.y, this.rotationVector.z ] );\n  };\n\n  this.getContainerDimensions = function () {\n    if (this.domElement != document) {\n      return {\n        size: [this.domElement.offsetWidth, this.domElement.offsetHeight],\n        offset: [this.domElement.offsetLeft, this.domElement.offsetTop]\n      };\n    } else {\n      return {\n        size: [window.innerWidth, window.innerHeight],\n        offset: [0, 0]\n      };\n    }\n  };\n\n  function bind(scope, fn) {\n    return function () {\n      fn.apply(scope, arguments);\n    };\n  }\n\n  function contextmenu(event) {\n    event.preventDefault();\n  }\n\n  this.dispose = function () {\n    this.domElement.removeEventListener('contextmenu', contextmenu);\n    this.domElement.removeEventListener('mousedown', _mousedown);\n    this.domElement.removeEventListener('mousemove', _mousemove);\n    this.domElement.removeEventListener('mouseup', _mouseup);\n    window.removeEventListener('keydown', _keydown);\n    window.removeEventListener('keyup', _keyup);\n  };\n\n  var _mousemove = bind(this, this.mousemove);\n\n  var _mousedown = bind(this, this.mousedown);\n\n  var _mouseup = bind(this, this.mouseup);\n\n  var _keydown = bind(this, this.keydown);\n\n  var _keyup = bind(this, this.keyup);\n\n  this.domElement.addEventListener('contextmenu', contextmenu);\n  this.domElement.addEventListener('mousemove', _mousemove);\n  this.domElement.addEventListener('mousedown', _mousedown);\n  this.domElement.addEventListener('mouseup', _mouseup);\n  window.addEventListener('keydown', _keydown);\n  window.addEventListener('keyup', _keyup);\n  this.updateMovementVector();\n  this.updateRotationVector();\n};\n\nexports.FlyControls = FlyControls;\nFlyControls.prototype = Object.create(_threeModule.EventDispatcher.prototype);\nFlyControls.prototype.constructor = FlyControls;\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","FlyControls","_threeModule","object","domElement","bind","scope","fn","apply","arguments","contextmenu","event","preventDefault","undefined","console","warn","document","setAttribute","movementSpeed","rollSpeed","autoForward","dragToLook","changeEvent","type","tmpQuaternion","Quaternion","mouseStatus","moveState","up","down","left","right","forward","back","pitchUp","pitchDown","yawLeft","yawRight","rollLeft","rollRight","moveVector","Vector3","rotationVector","keydown","this.keydown","altKey","code","movementSpeedMultiplier","updateMovementVector","updateRotationVector","keyup","this.keyup","mousedown","this.mousedown","focus","stopPropagation","button","mousemove","this.mousemove","container","getContainerDimensions","halfWidth","size","halfHeight","pageX","offset","pageY","mouseup","this.mouseup","update","lastQuaternion","lastPosition","delta","moveMult","rotMult","translateX","x","translateY","y","translateZ","z","set","normalize","quaternion","multiply","EPS","distanceToSquared","position","dot","dispatchEvent","copy","this.updateMovementVector","this.updateRotationVector","this.getContainerDimensions","offsetWidth","offsetHeight","offsetLeft","offsetTop","window","innerWidth","innerHeight","dispose","this.dispose","removeEventListener","_mousedown","_mousemove","_mouseup","_keydown","_keyup","addEventListener","prototype","create","EventDispatcher","constructor"]
}
