shadow$provide.module$node_modules$aframe_extras$src$controls$keyboard_controls=function(global,require,module,exports){require("module$node_modules$aframe_extras$lib$keyboard_polyfill");var KeyboardEvent=window.KeyboardEvent;module.exports=AFRAME.registerComponent("keyboard-controls",{schema:{enabled:{default:!0},debug:{default:!1}},init:function(){this.dVelocity=new THREE.Vector3;this.localKeys={};this.listeners={keydown:this.onKeyDown.bind(this),keyup:this.onKeyUp.bind(this),blur:this.onBlur.bind(this)};
this.attachEventListeners()},isVelocityActive:function(){return this.data.enabled&&!!Object.keys(this.getKeys()).length},getVelocityDelta:function(){var data=this.data,keys=this.getKeys();this.dVelocity.set(0,0,0);if(data.enabled){(keys.KeyW||keys.ArrowUp)&&--this.dVelocity.z;(keys.KeyA||keys.ArrowLeft)&&--this.dVelocity.x;if(keys.KeyS||keys.ArrowDown)this.dVelocity.z+=1;if(keys.KeyD||keys.ArrowRight)this.dVelocity.x+=1}return this.dVelocity.clone()},play:function(){this.attachEventListeners()},pause:function(){this.removeEventListeners()},
remove:function(){this.pause()},attachEventListeners:function(){window.addEventListener("keydown",this.listeners.keydown,!1);window.addEventListener("keyup",this.listeners.keyup,!1);window.addEventListener("blur",this.listeners.blur,!1)},removeEventListeners:function(){window.removeEventListener("keydown",this.listeners.keydown);window.removeEventListener("keyup",this.listeners.keyup);window.removeEventListener("blur",this.listeners.blur)},onKeyDown:function(event){AFRAME.utils.shouldCaptureKeyEvent(event)&&
(this.localKeys[event.code]=!0,this.emit(event))},onKeyUp:function(event){AFRAME.utils.shouldCaptureKeyEvent(event)&&(delete this.localKeys[event.code],this.emit(event))},onBlur:function(){for(var code in this.localKeys)this.localKeys.hasOwnProperty(code)&&delete this.localKeys[code]},emit:function(event){"__keyboard-controls-proxy"in event&&this.el.emit(event.type,event);this.el.emit(event.type+":"+event.code,new KeyboardEvent(event.type,event));this.data.debug&&console.log(event.type+":"+event.code)},
isPressed:function(code){return code in this.getKeys()},getKeys:function(){return this.isProxied()?this.el.sceneEl.components["proxy-controls"].getKeyboard():this.localKeys},isProxied:function(){var proxyControls=this.el.sceneEl.components["proxy-controls"];return proxyControls&&proxyControls.isConnected()}})}
//# sourceMappingURL=module$node_modules$aframe_extras$src$controls$keyboard_controls.js.map
