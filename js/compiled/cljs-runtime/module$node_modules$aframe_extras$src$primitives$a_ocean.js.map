{
"version":3,
"file":"module$node_modules$aframe_extras$src$primitives$a_ocean.js",
"lineCount":4,
"mappings":"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",
"sources":["node_modules/aframe-extras/src/primitives/a-ocean.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$aframe_extras$src$primitives$a_ocean\"] = function(global,require,module,exports) {\n/**\n * Flat-shaded ocean primitive.\n *\n * Based on a Codrops tutorial:\n * http://tympanus.net/codrops/2016/04/26/the-aviator-animating-basic-3d-scene-threejs/\n */\nmodule.exports.Primitive = AFRAME.registerPrimitive('a-ocean', {\n  defaultComponents: {\n    ocean: {},\n    rotation: {x: -90, y: 0, z: 0}\n  },\n  mappings: {\n    width: 'ocean.width',\n    depth: 'ocean.depth',\n    density: 'ocean.density',\n    amplitude: 'ocean.amplitude',\n    amplitudeVariance: 'ocean.amplitudeVariance',\n    speed: 'ocean.speed',\n    speedVariance: 'ocean.speedVariance',\n    color: 'ocean.color',\n    opacity: 'ocean.opacity'\n  }\n});\n\nmodule.exports.Component = AFRAME.registerComponent('ocean', {\n  schema: {\n    // Dimensions of the ocean area.\n    width: {default: 10, min: 0},\n    depth: {default: 10, min: 0},\n\n    // Density of waves.\n    density: {default: 10},\n\n    // Wave amplitude and variance.\n    amplitude: {default: 0.1},\n    amplitudeVariance: {default: 0.3},\n\n    // Wave speed and variance.\n    speed: {default: 1},\n    speedVariance: {default: 2},\n\n    // Material.\n    color: {default: '#7AD2F7', type: 'color'},\n    opacity: {default: 0.8}\n  },\n\n  /**\n   * Use play() instead of init(), because component mappings \u2013 unavailable as dependencies \u2013 are\n   * not guaranteed to have parsed when this component is initialized.\n   */\n  play: function () {\n    const el = this.el,\n        data = this.data;\n    let material = el.components.material;\n\n    const geometry = new THREE.PlaneGeometry(data.width, data.depth, data.density, data.density);\n    geometry.mergeVertices();\n    this.waves = [];\n    for (let v, i = 0, l = geometry.vertices.length; i < l; i++) {\n      v = geometry.vertices[i];\n      this.waves.push({\n        z: v.z,\n        ang: Math.random() * Math.PI * 2,\n        amp: data.amplitude + Math.random() * data.amplitudeVariance,\n        speed: (data.speed + Math.random() * data.speedVariance) / 1000 // radians / frame\n      });\n    }\n\n    if (!material) {\n      material = {};\n      material.material = new THREE.MeshPhongMaterial({\n        color: data.color,\n        transparent: data.opacity < 1,\n        opacity: data.opacity,\n        shading: THREE.FlatShading,\n      });\n    }\n\n    this.mesh = new THREE.Mesh(geometry, material.material);\n    el.setObject3D('mesh', this.mesh);\n  },\n\n  remove: function () {\n    this.el.removeObject3D('mesh');\n  },\n\n  tick: function (t, dt) {\n    if (!dt) return;\n\n    const verts = this.mesh.geometry.vertices;\n    for (let v, vprops, i = 0; (v = verts[i]); i++){\n      vprops = this.waves[i];\n      v.z = vprops.z + Math.sin(vprops.ang) * vprops.amp;\n      vprops.ang += vprops.speed * dt;\n    }\n    this.mesh.geometry.verticesNeedUpdate = true;\n  }\n});\n\n};"],
"names":["shadow$provide","global","require","module","exports","Primitive","AFRAME","registerPrimitive","defaultComponents","ocean","rotation","x","y","z","mappings","width","depth","density","amplitude","amplitudeVariance","speed","speedVariance","color","opacity","Component","registerComponent","schema","default","min","type","play","el","data","material","components","geometry","THREE","PlaneGeometry","mergeVertices","waves","v","i","l","vertices","length","push","ang","Math","random","PI","amp","MeshPhongMaterial","transparent","shading","FlatShading","mesh","Mesh","setObject3D","remove","removeObject3D","tick","t","dt","verts","vprops","sin","verticesNeedUpdate"]
}
