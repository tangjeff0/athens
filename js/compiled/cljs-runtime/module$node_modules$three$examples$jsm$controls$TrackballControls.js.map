{
"version":3,
"file":"module$node_modules$three$examples$jsm$controls$TrackballControls.js",
"lineCount":25,
"mappings":"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",
"sources":["node_modules/three/examples/jsm/controls/TrackballControls.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$three$examples$jsm$controls$TrackballControls\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TrackballControls = void 0;\n\nvar _threeModule = require(\"../../../build/three.module.js\");\n\nvar TrackballControls = function TrackballControls(object, domElement) {\n  if (domElement === undefined) console.warn('THREE.TrackballControls: The second parameter \"domElement\" is now mandatory.');\n  if (domElement === document) console.error('THREE.TrackballControls: \"document\" should not be used as the target \"domElement\". Please use \"renderer.domElement\" instead.');\n  var scope = this;\n  var STATE = {\n    NONE: -1,\n    ROTATE: 0,\n    ZOOM: 1,\n    PAN: 2,\n    TOUCH_ROTATE: 3,\n    TOUCH_ZOOM_PAN: 4\n  };\n  this.object = object;\n  this.domElement = domElement; // API\n\n  this.enabled = true;\n  this.screen = {\n    left: 0,\n    top: 0,\n    width: 0,\n    height: 0\n  };\n  this.rotateSpeed = 1.0;\n  this.zoomSpeed = 1.2;\n  this.panSpeed = 0.3;\n  this.noRotate = false;\n  this.noZoom = false;\n  this.noPan = false;\n  this.staticMoving = false;\n  this.dynamicDampingFactor = 0.2;\n  this.minDistance = 0;\n  this.maxDistance = Infinity;\n  this.keys = [65\n  /*A*/\n  , 83\n  /*S*/\n  , 68\n  /*D*/\n  ];\n  this.mouseButtons = {\n    LEFT: _threeModule.MOUSE.ROTATE,\n    MIDDLE: _threeModule.MOUSE.DOLLY,\n    RIGHT: _threeModule.MOUSE.PAN\n  }; // internals\n\n  this.target = new _threeModule.Vector3();\n  var EPS = 0.000001;\n  var lastPosition = new _threeModule.Vector3();\n  var lastZoom = 1;\n\n  var _state = STATE.NONE,\n      _keyState = STATE.NONE,\n      _eye = new _threeModule.Vector3(),\n      _movePrev = new _threeModule.Vector2(),\n      _moveCurr = new _threeModule.Vector2(),\n      _lastAxis = new _threeModule.Vector3(),\n      _lastAngle = 0,\n      _zoomStart = new _threeModule.Vector2(),\n      _zoomEnd = new _threeModule.Vector2(),\n      _touchZoomDistanceStart = 0,\n      _touchZoomDistanceEnd = 0,\n      _panStart = new _threeModule.Vector2(),\n      _panEnd = new _threeModule.Vector2(); // for reset\n\n\n  this.target0 = this.target.clone();\n  this.position0 = this.object.position.clone();\n  this.up0 = this.object.up.clone();\n  this.zoom0 = this.object.zoom; // events\n\n  var changeEvent = {\n    type: 'change'\n  };\n  var startEvent = {\n    type: 'start'\n  };\n  var endEvent = {\n    type: 'end'\n  }; // methods\n\n  this.handleResize = function () {\n    var box = scope.domElement.getBoundingClientRect(); // adjustments come from similar code in the jquery offset() function\n\n    var d = scope.domElement.ownerDocument.documentElement;\n    scope.screen.left = box.left + window.pageXOffset - d.clientLeft;\n    scope.screen.top = box.top + window.pageYOffset - d.clientTop;\n    scope.screen.width = box.width;\n    scope.screen.height = box.height;\n  };\n\n  var getMouseOnScreen = function () {\n    var vector = new _threeModule.Vector2();\n    return function getMouseOnScreen(pageX, pageY) {\n      vector.set((pageX - scope.screen.left) / scope.screen.width, (pageY - scope.screen.top) / scope.screen.height);\n      return vector;\n    };\n  }();\n\n  var getMouseOnCircle = function () {\n    var vector = new _threeModule.Vector2();\n    return function getMouseOnCircle(pageX, pageY) {\n      vector.set((pageX - scope.screen.width * 0.5 - scope.screen.left) / (scope.screen.width * 0.5), (scope.screen.height + 2 * (scope.screen.top - pageY)) / scope.screen.width // screen.width intentional\n      );\n      return vector;\n    };\n  }();\n\n  this.rotateCamera = function () {\n    var axis = new _threeModule.Vector3(),\n        quaternion = new _threeModule.Quaternion(),\n        eyeDirection = new _threeModule.Vector3(),\n        objectUpDirection = new _threeModule.Vector3(),\n        objectSidewaysDirection = new _threeModule.Vector3(),\n        moveDirection = new _threeModule.Vector3(),\n        angle;\n    return function rotateCamera() {\n      moveDirection.set(_moveCurr.x - _movePrev.x, _moveCurr.y - _movePrev.y, 0);\n      angle = moveDirection.length();\n\n      if (angle) {\n        _eye.copy(scope.object.position).sub(scope.target);\n\n        eyeDirection.copy(_eye).normalize();\n        objectUpDirection.copy(scope.object.up).normalize();\n        objectSidewaysDirection.crossVectors(objectUpDirection, eyeDirection).normalize();\n        objectUpDirection.setLength(_moveCurr.y - _movePrev.y);\n        objectSidewaysDirection.setLength(_moveCurr.x - _movePrev.x);\n        moveDirection.copy(objectUpDirection.add(objectSidewaysDirection));\n        axis.crossVectors(moveDirection, _eye).normalize();\n        angle *= scope.rotateSpeed;\n        quaternion.setFromAxisAngle(axis, angle);\n\n        _eye.applyQuaternion(quaternion);\n\n        scope.object.up.applyQuaternion(quaternion);\n\n        _lastAxis.copy(axis);\n\n        _lastAngle = angle;\n      } else if (!scope.staticMoving && _lastAngle) {\n        _lastAngle *= Math.sqrt(1.0 - scope.dynamicDampingFactor);\n\n        _eye.copy(scope.object.position).sub(scope.target);\n\n        quaternion.setFromAxisAngle(_lastAxis, _lastAngle);\n\n        _eye.applyQuaternion(quaternion);\n\n        scope.object.up.applyQuaternion(quaternion);\n      }\n\n      _movePrev.copy(_moveCurr);\n    };\n  }();\n\n  this.zoomCamera = function () {\n    var factor;\n\n    if (_state === STATE.TOUCH_ZOOM_PAN) {\n      factor = _touchZoomDistanceStart / _touchZoomDistanceEnd;\n      _touchZoomDistanceStart = _touchZoomDistanceEnd;\n\n      if (scope.object.isPerspectiveCamera) {\n        _eye.multiplyScalar(factor);\n      } else if (scope.object.isOrthographicCamera) {\n        scope.object.zoom *= factor;\n        scope.object.updateProjectionMatrix();\n      } else {\n        console.warn('THREE.TrackballControls: Unsupported camera type');\n      }\n    } else {\n      factor = 1.0 + (_zoomEnd.y - _zoomStart.y) * scope.zoomSpeed;\n\n      if (factor !== 1.0 && factor > 0.0) {\n        if (scope.object.isPerspectiveCamera) {\n          _eye.multiplyScalar(factor);\n        } else if (scope.object.isOrthographicCamera) {\n          scope.object.zoom /= factor;\n          scope.object.updateProjectionMatrix();\n        } else {\n          console.warn('THREE.TrackballControls: Unsupported camera type');\n        }\n      }\n\n      if (scope.staticMoving) {\n        _zoomStart.copy(_zoomEnd);\n      } else {\n        _zoomStart.y += (_zoomEnd.y - _zoomStart.y) * this.dynamicDampingFactor;\n      }\n    }\n  };\n\n  this.panCamera = function () {\n    var mouseChange = new _threeModule.Vector2(),\n        objectUp = new _threeModule.Vector3(),\n        pan = new _threeModule.Vector3();\n    return function panCamera() {\n      mouseChange.copy(_panEnd).sub(_panStart);\n\n      if (mouseChange.lengthSq()) {\n        if (scope.object.isOrthographicCamera) {\n          var scale_x = (scope.object.right - scope.object.left) / scope.object.zoom / scope.domElement.clientWidth;\n          var scale_y = (scope.object.top - scope.object.bottom) / scope.object.zoom / scope.domElement.clientWidth;\n          mouseChange.x *= scale_x;\n          mouseChange.y *= scale_y;\n        }\n\n        mouseChange.multiplyScalar(_eye.length() * scope.panSpeed);\n        pan.copy(_eye).cross(scope.object.up).setLength(mouseChange.x);\n        pan.add(objectUp.copy(scope.object.up).setLength(mouseChange.y));\n        scope.object.position.add(pan);\n        scope.target.add(pan);\n\n        if (scope.staticMoving) {\n          _panStart.copy(_panEnd);\n        } else {\n          _panStart.add(mouseChange.subVectors(_panEnd, _panStart).multiplyScalar(scope.dynamicDampingFactor));\n        }\n      }\n    };\n  }();\n\n  this.checkDistances = function () {\n    if (!scope.noZoom || !scope.noPan) {\n      if (_eye.lengthSq() > scope.maxDistance * scope.maxDistance) {\n        scope.object.position.addVectors(scope.target, _eye.setLength(scope.maxDistance));\n\n        _zoomStart.copy(_zoomEnd);\n      }\n\n      if (_eye.lengthSq() < scope.minDistance * scope.minDistance) {\n        scope.object.position.addVectors(scope.target, _eye.setLength(scope.minDistance));\n\n        _zoomStart.copy(_zoomEnd);\n      }\n    }\n  };\n\n  this.update = function () {\n    _eye.subVectors(scope.object.position, scope.target);\n\n    if (!scope.noRotate) {\n      scope.rotateCamera();\n    }\n\n    if (!scope.noZoom) {\n      scope.zoomCamera();\n    }\n\n    if (!scope.noPan) {\n      scope.panCamera();\n    }\n\n    scope.object.position.addVectors(scope.target, _eye);\n\n    if (scope.object.isPerspectiveCamera) {\n      scope.checkDistances();\n      scope.object.lookAt(scope.target);\n\n      if (lastPosition.distanceToSquared(scope.object.position) > EPS) {\n        scope.dispatchEvent(changeEvent);\n        lastPosition.copy(scope.object.position);\n      }\n    } else if (scope.object.isOrthographicCamera) {\n      scope.object.lookAt(scope.target);\n\n      if (lastPosition.distanceToSquared(scope.object.position) > EPS || lastZoom !== scope.object.zoom) {\n        scope.dispatchEvent(changeEvent);\n        lastPosition.copy(scope.object.position);\n        lastZoom = scope.object.zoom;\n      }\n    } else {\n      console.warn('THREE.TrackballControls: Unsupported camera type');\n    }\n  };\n\n  this.reset = function () {\n    _state = STATE.NONE;\n    _keyState = STATE.NONE;\n    scope.target.copy(scope.target0);\n    scope.object.position.copy(scope.position0);\n    scope.object.up.copy(scope.up0);\n    scope.object.zoom = scope.zoom0;\n    scope.object.updateProjectionMatrix();\n\n    _eye.subVectors(scope.object.position, scope.target);\n\n    scope.object.lookAt(scope.target);\n    scope.dispatchEvent(changeEvent);\n    lastPosition.copy(scope.object.position);\n    lastZoom = scope.object.zoom;\n  }; // listeners\n\n\n  function onPointerDown(event) {\n    if (scope.enabled === false) return;\n\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        onMouseDown(event);\n        break;\n      // TODO touch\n    }\n  }\n\n  function onPointerMove(event) {\n    if (scope.enabled === false) return;\n\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        onMouseMove(event);\n        break;\n      // TODO touch\n    }\n  }\n\n  function onPointerUp(event) {\n    if (scope.enabled === false) return;\n\n    switch (event.pointerType) {\n      case 'mouse':\n      case 'pen':\n        onMouseUp(event);\n        break;\n      // TODO touch\n    }\n  }\n\n  function keydown(event) {\n    if (scope.enabled === false) return;\n    window.removeEventListener('keydown', keydown);\n\n    if (_keyState !== STATE.NONE) {\n      return;\n    } else if (event.keyCode === scope.keys[STATE.ROTATE] && !scope.noRotate) {\n      _keyState = STATE.ROTATE;\n    } else if (event.keyCode === scope.keys[STATE.ZOOM] && !scope.noZoom) {\n      _keyState = STATE.ZOOM;\n    } else if (event.keyCode === scope.keys[STATE.PAN] && !scope.noPan) {\n      _keyState = STATE.PAN;\n    }\n  }\n\n  function keyup() {\n    if (scope.enabled === false) return;\n    _keyState = STATE.NONE;\n    window.addEventListener('keydown', keydown);\n  }\n\n  function onMouseDown(event) {\n    event.preventDefault();\n    event.stopPropagation();\n\n    if (_state === STATE.NONE) {\n      switch (event.button) {\n        case scope.mouseButtons.LEFT:\n          _state = STATE.ROTATE;\n          break;\n\n        case scope.mouseButtons.MIDDLE:\n          _state = STATE.ZOOM;\n          break;\n\n        case scope.mouseButtons.RIGHT:\n          _state = STATE.PAN;\n          break;\n\n        default:\n          _state = STATE.NONE;\n      }\n    }\n\n    var state = _keyState !== STATE.NONE ? _keyState : _state;\n\n    if (state === STATE.ROTATE && !scope.noRotate) {\n      _moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY));\n\n      _movePrev.copy(_moveCurr);\n    } else if (state === STATE.ZOOM && !scope.noZoom) {\n      _zoomStart.copy(getMouseOnScreen(event.pageX, event.pageY));\n\n      _zoomEnd.copy(_zoomStart);\n    } else if (state === STATE.PAN && !scope.noPan) {\n      _panStart.copy(getMouseOnScreen(event.pageX, event.pageY));\n\n      _panEnd.copy(_panStart);\n    }\n\n    scope.domElement.ownerDocument.addEventListener('pointermove', onPointerMove);\n    scope.domElement.ownerDocument.addEventListener('pointerup', onPointerUp);\n    scope.dispatchEvent(startEvent);\n  }\n\n  function onMouseMove(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n    var state = _keyState !== STATE.NONE ? _keyState : _state;\n\n    if (state === STATE.ROTATE && !scope.noRotate) {\n      _movePrev.copy(_moveCurr);\n\n      _moveCurr.copy(getMouseOnCircle(event.pageX, event.pageY));\n    } else if (state === STATE.ZOOM && !scope.noZoom) {\n      _zoomEnd.copy(getMouseOnScreen(event.pageX, event.pageY));\n    } else if (state === STATE.PAN && !scope.noPan) {\n      _panEnd.copy(getMouseOnScreen(event.pageX, event.pageY));\n    }\n  }\n\n  function onMouseUp(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n    _state = STATE.NONE;\n    scope.domElement.ownerDocument.removeEventListener('pointermove', onPointerMove);\n    scope.domElement.ownerDocument.removeEventListener('pointerup', onPointerUp);\n    scope.dispatchEvent(endEvent);\n  }\n\n  function mousewheel(event) {\n    if (scope.enabled === false) return;\n    if (scope.noZoom === true) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.deltaMode) {\n      case 2:\n        // Zoom in pages\n        _zoomStart.y -= event.deltaY * 0.025;\n        break;\n\n      case 1:\n        // Zoom in lines\n        _zoomStart.y -= event.deltaY * 0.01;\n        break;\n\n      default:\n        // undefined, 0, assume pixels\n        _zoomStart.y -= event.deltaY * 0.00025;\n        break;\n    }\n\n    scope.dispatchEvent(startEvent);\n    scope.dispatchEvent(endEvent);\n  }\n\n  function touchstart(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n\n    switch (event.touches.length) {\n      case 1:\n        _state = STATE.TOUCH_ROTATE;\n\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n        _movePrev.copy(_moveCurr);\n\n        break;\n\n      default:\n        // 2 or more\n        _state = STATE.TOUCH_ZOOM_PAN;\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\n        _touchZoomDistanceEnd = _touchZoomDistanceStart = Math.sqrt(dx * dx + dy * dy);\n        var x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n        var y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n\n        _panStart.copy(getMouseOnScreen(x, y));\n\n        _panEnd.copy(_panStart);\n\n        break;\n    }\n\n    scope.dispatchEvent(startEvent);\n  }\n\n  function touchmove(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n    event.stopPropagation();\n\n    switch (event.touches.length) {\n      case 1:\n        _movePrev.copy(_moveCurr);\n\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n        break;\n\n      default:\n        // 2 or more\n        var dx = event.touches[0].pageX - event.touches[1].pageX;\n        var dy = event.touches[0].pageY - event.touches[1].pageY;\n        _touchZoomDistanceEnd = Math.sqrt(dx * dx + dy * dy);\n        var x = (event.touches[0].pageX + event.touches[1].pageX) / 2;\n        var y = (event.touches[0].pageY + event.touches[1].pageY) / 2;\n\n        _panEnd.copy(getMouseOnScreen(x, y));\n\n        break;\n    }\n  }\n\n  function touchend(event) {\n    if (scope.enabled === false) return;\n\n    switch (event.touches.length) {\n      case 0:\n        _state = STATE.NONE;\n        break;\n\n      case 1:\n        _state = STATE.TOUCH_ROTATE;\n\n        _moveCurr.copy(getMouseOnCircle(event.touches[0].pageX, event.touches[0].pageY));\n\n        _movePrev.copy(_moveCurr);\n\n        break;\n    }\n\n    scope.dispatchEvent(endEvent);\n  }\n\n  function contextmenu(event) {\n    if (scope.enabled === false) return;\n    event.preventDefault();\n  }\n\n  this.dispose = function () {\n    scope.domElement.removeEventListener('contextmenu', contextmenu);\n    scope.domElement.removeEventListener('pointerdown', onPointerDown);\n    scope.domElement.removeEventListener('wheel', mousewheel);\n    scope.domElement.removeEventListener('touchstart', touchstart);\n    scope.domElement.removeEventListener('touchend', touchend);\n    scope.domElement.removeEventListener('touchmove', touchmove);\n    scope.domElement.ownerDocument.removeEventListener('pointermove', onPointerMove);\n    scope.domElement.ownerDocument.removeEventListener('pointerup', onPointerUp);\n    window.removeEventListener('keydown', keydown);\n    window.removeEventListener('keyup', keyup);\n  };\n\n  this.domElement.addEventListener('contextmenu', contextmenu);\n  this.domElement.addEventListener('pointerdown', onPointerDown);\n  this.domElement.addEventListener('wheel', mousewheel);\n  this.domElement.addEventListener('touchstart', touchstart);\n  this.domElement.addEventListener('touchend', touchend);\n  this.domElement.addEventListener('touchmove', touchmove);\n  this.domElement.ownerDocument.addEventListener('pointermove', onPointerMove);\n  this.domElement.ownerDocument.addEventListener('pointerup', onPointerUp);\n  window.addEventListener('keydown', keydown);\n  window.addEventListener('keyup', keyup);\n  this.handleResize(); // force an update at start\n\n  this.update();\n};\n\nexports.TrackballControls = TrackballControls;\nTrackballControls.prototype = Object.create(_threeModule.EventDispatcher.prototype);\nTrackballControls.prototype.constructor = TrackballControls;\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","TrackballControls","_threeModule","object","domElement","onPointerDown","event","scope","enabled","pointerType","preventDefault","stopPropagation","_state","STATE","NONE","button","mouseButtons","LEFT","ROTATE","MIDDLE","ZOOM","RIGHT","PAN","state","_keyState","noRotate","noZoom","noPan","_panStart","copy","getMouseOnScreen","pageX","pageY","_panEnd","_zoomStart","_zoomEnd","_moveCurr","getMouseOnCircle","_movePrev","ownerDocument","addEventListener","onPointerMove","onPointerUp","dispatchEvent","startEvent","removeEventListener","endEvent","keydown","window","keyCode","keys","keyup","mousewheel","deltaMode","y","deltaY","touchstart","touches","length","TOUCH_ROTATE","TOUCH_ZOOM_PAN","dx","dy","_touchZoomDistanceEnd","_touchZoomDistanceStart","Math","sqrt","touchmove","touchend","contextmenu","undefined","console","warn","document","error","screen","left","top","width","height","rotateSpeed","zoomSpeed","panSpeed","staticMoving","dynamicDampingFactor","minDistance","maxDistance","Infinity","MOUSE","DOLLY","target","Vector3","lastPosition","lastZoom","_eye","Vector2","_lastAxis","_lastAngle","target0","clone","position0","position","up0","up","zoom0","zoom","changeEvent","type","handleResize","this.handleResize","box","getBoundingClientRect","d","documentElement","pageXOffset","clientLeft","pageYOffset","clientTop","vector","set","rotateCamera","axis","quaternion","Quaternion","eyeDirection","objectUpDirection","objectSidewaysDirection","moveDirection","angle","x","sub","normalize","crossVectors","setLength","add","setFromAxisAngle","applyQuaternion","zoomCamera","this.zoomCamera","factor","isPerspectiveCamera","multiplyScalar","isOrthographicCamera","updateProjectionMatrix","panCamera","mouseChange","objectUp","pan","lengthSq","scale_y","bottom","clientWidth","right","cross","subVectors","checkDistances","this.checkDistances","addVectors","update","this.update","lookAt","EPS","distanceToSquared","reset","this.reset","dispose","this.dispose","prototype","create","EventDispatcher","constructor"]
}
