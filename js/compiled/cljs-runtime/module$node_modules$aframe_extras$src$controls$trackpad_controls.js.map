{
"version":3,
"file":"module$node_modules$aframe_extras$src$controls$trackpad_controls.js",
"lineCount":7,
"mappings":"AAAAA,cAAA,CAAe,gEAAf,CAAqF,QAAQ,CAACC,MAAD,CAAQC,OAAR,CAAgBC,MAAhB,CAAuBC,OAAvB,CAAgC,CAI7HD,MAAA,CAAOC,OAAP,CAAiBC,MAAA,CAAOC,iBAAP,CAAyB,mBAAzB,CAA8C,CAC7DC,OAAQ,CACNC,QAAS,CAAEC,QAAS,CAAA,CAAX,CADH,CAENC,WAAY,CAAED,QAAS,CAAA,CAAX,CAFN,CAGNE,WAAY,CAAEF,QAAS,CAAA,CAAX,CAHN,CAING,WAAY,CAAEH,QAAS,CAAA,CAAX,CAJN,CAKNI,WAAY,CAAEJ,QAAS,CAAA,CAAX,CALN,CAMNK,KAAM,CAAEL,QAAS,OAAX,CAAoBM,MAAO,CAAC,OAAD,CAAU,OAAV,CAAmB,OAAnB,CAA3B,CANA,CADqD,CAW7DC,KAAMA,QAAS,EAAG,CAChB,IAAA,CAAKC,SAAL,CAAiB,IAAIC,KAAJ,CAAUC,OAE3B,KAAA,CAAKC,IAAL,CADA,IACA,CADKC,IACL,CADiB,CAEjB,KAAA,CAAKC,WAAL,EAJgB,CAX2C,CAkB7DC,KAAMA,QAAS,EAAG,CAChB,IAAA,CAAKC,iBAAL,EADgB,CAlB2C,CAsB7DC,MAAOA,QAAS,EAAG,CACjB,IAAA,CAAKC,oBAAL,EACA;IAAA,CAAKT,SAAL,CAAeU,GAAf,CAAmB,CAAnB,CAAsB,CAAtB,CAAyB,CAAzB,CAFiB,CAtB0C,CA2B7DC,OAAQA,QAAS,EAAG,CAClB,IAAA,CAAKH,KAAL,EADkB,CA3ByC,CA+B7DD,kBAAmBA,QAAS,EAAG,CAC7B,IAAMK,KAAO,IAAPA,CAAYA,IAAlB,CACMC,QAAU,IAAVA,CAAeC,EAAfD,CAAkBA,OAExBA,QAAA,CAAQE,gBAAR,CAAyB,UAAzB,CAAqC,IAArC,CAA0CC,UAA1C,CAEA,QAAQJ,IAAR,CAAaf,IAAb,EACE,KAAK,OAAL,CACA,KAAK,OAAL,CACEgB,OAAA,CAAQE,gBAAR,CAAyB,oBAAzB,CAA+C,IAA/C,CAAoDE,YAApD,CACAJ,QAAA,CAAQE,gBAAR,CAAyB,kBAAzB,CAA6C,IAA7C,CAAkDG,UAAlD,CACA,MAEF,MAAK,OAAL,CACEL,OAAA,CAAQE,gBAAR,CAAyB,cAAzB,CAAyC,IAAzC,CAA8CE,YAA9C,CACA,CAAAJ,OAAA,CAAQE,gBAAR,CAAyB,YAAzB,CAAuC,IAAvC,CAA4CG,UAA5C,CATJ,CAN6B,CA/B8B,CAoD7DT,qBAAsBA,QAAS,EAAG,CAChC,IAAMI;AAAU,IAAVA,CAAeC,EAAfD,CAAkBA,OAExBA,QAAA,CAAQM,mBAAR,CAA4B,UAA5B,CAAwC,IAAxC,CAA6CH,UAA7C,CACAH,QAAA,CAAQM,mBAAR,CAA4B,oBAA5B,CAAkD,IAAlD,CAAuDF,YAAvD,CACAJ,QAAA,CAAQM,mBAAR,CAA4B,kBAA5B,CAAgD,IAAhD,CAAqDD,UAArD,CACAL,QAAA,CAAQM,mBAAR,CAA4B,cAA5B,CAA4C,IAA5C,CAAiDF,YAAjD,CACAJ,QAAA,CAAQM,mBAAR,CAA4B,YAA5B,CAA0C,IAA1C,CAA+CD,UAA/C,CAPgC,CApD2B,CA8D7DE,iBAAkBA,QAAS,EAAG,CAC5B,MAAO,KAAP,CAAYR,IAAZ,CAAiBrB,OAAjB,EAA4B,IAA5B,CAAiC8B,QADL,CA9D+B,CAkE7DC,iBAAkBA,QAAS,EAAG,CAC5B,IAAA,CAAKtB,SAAL,CAAeuB,CAAf,CAAmB,IAAA,CAAKF,QAAL,CAAgB,CAAC,IAAD,CAAMjB,IAAtB,CAA6B,CAChD,KAAA,CAAKJ,SAAL,CAAewB,CAAf,CAAmB,IAAA,CAAKH,QAAL,CAAgB,IAAhB,CAAqBlB,IAArB;AAA4B,CAC/C,OAAO,KAAA,CAAKH,SAAL,CAAeyB,KAAf,EAHqB,CAlE+B,CAwE7DpB,YAAaA,QAAS,EAAG,CACvB,IAAA,CAAKY,YAAL,CAAoB,IAAA,CAAKA,YAAL,CAAkBS,IAAlB,CAAuB,IAAvB,CACpB,KAAA,CAAKR,UAAL,CAAkB,IAAA,CAAKA,UAAL,CAAgBQ,IAAhB,CAAqB,IAArB,CAClB,KAAA,CAAKV,UAAL,CAAkB,IAAA,CAAKA,UAAL,CAAgBU,IAAhB,CAAqB,IAArB,CAHK,CAxEoC,CA8E7DT,aAAcA,QAAS,CAACU,CAAD,CAAI,CACzB,OAAO,IAAP,CAAYf,IAAZ,CAAiBf,IAAjB,EACE,KAAK,OAAL,CACE,IAAA,CAAK+B,aAAL,CAAqB,CAAA,CACrB,KAAA,CAAKC,gBAAL,CAAwB,EACxB,MACF,MAAK,OAAL,CACE,IAAA,CAAKR,QAAL,CAAgB,CAAA,CAChB,MACF,MAAK,OAAL,CACE,IAAA,CAAKA,QAAL,CAAgB,CAAA,CATpB,CAaAM,CAAA,CAAEG,cAAF,EAdyB,CA9EkC,CA+F7DZ,WAAYA,QAAS,CAACS,CAAD,CAAI,CACF,OAArB,EAAG,IAAH,CAAQf,IAAR,CAAaf,IAAb,GACI,IADJ,CACSgC,gBADT,CAC4B,EAD5B,CAIA,KAAA,CAAKR,QAAL,CAAgB,CAAA,CAChBM,EAAA,CAAEG,cAAF,EANuB,CA/FoC;AAwG7Dd,WAAYA,QAAQ,CAACW,CAAD,CAAG,CACrB,OAAQ,IAAR,CAAaf,IAAb,CAAkBf,IAAlB,EACE,KAAK,OAAL,CACE,MAAO,KAAA,CAAKkC,eAAL,CAAqBJ,CAArB,CACT,MAAK,OAAL,CACA,KAAK,OAAL,CACE,MAAO,KAAA,CAAKK,eAAL,CAAqBL,CAArB,CALX,CADqB,CAxGsC,CAkH7DI,gBAAiBA,QAAQ,CAACJ,CAAD,CAAI,CAC3B,IAAMf,KAAO,IAAPA,CAAYA,IACZqB,EAAAA,CAAWN,CAAXM,CAAaC,MAAbD,CAAoBE,IAEU,EAApC,GAAG,IAAH,CAAQN,gBAAR,CAAyBO,MAAzB,EAAyC,IAAzC,CAA8CR,aAA9C,GACE,IAEA,CAFKA,aAEL,CAFqB,CAAA,CAErB,CADA,IAAA,CAAKC,gBAAL,CAAsB,CAAtB,CACA,CAD2BI,CAAA,CAAS,CAAT,CAC3B,CAAA,IAAA,CAAKJ,gBAAL,CAAsB,CAAtB,CAAA,CAA2BI,CAAA,CAAS,CAAT,CAH7B,CAMA,IAAkC,CAAlC,CAAG,IAAH,CAAQJ,gBAAR,CAAyBO,MAAzB,CAAoC,CAClC,IAAIC,KAAO,CAAX,CACIC,KAAO,CAEP1B,KAAJ,CAASnB,UAAT,EAAuBwC,CAAA,CAAS,CAAT,CAAvB,CAAqC,IAAA,CAAKJ,gBAAL,CAAsB,CAAtB,CAArC,GACEQ,IADF,CACS,EADT,CAIIzB,KAAJ,CAASlB,UAAT,EAAuBuC,CAAA,CAAS,CAAT,CAAvB,CAAqC,IAAA,CAAKJ,gBAAL,CAAsB,CAAtB,CAArC;CACEQ,IADF,CACS,CADT,CAIIzB,KAAJ,CAAShB,UAAT,EAAuBqC,CAAA,CAAS,CAAT,CAAvB,CAAqC,IAAA,CAAKJ,gBAAL,CAAsB,CAAtB,CAArC,GACES,IADF,CACS,EADT,CAII1B,KAAJ,CAASjB,UAAT,EAAuBsC,CAAA,CAAS,CAAT,CAAvB,CAAqC,IAAA,CAAKJ,gBAAL,CAAsB,CAAtB,CAArC,GACES,IADF,CACS,CADT,CAKoBC,KAAAC,CAAKC,GAALD,CAAS,IAAA,CAAKX,gBAAL,CAAsB,CAAtB,CAATW,CAAoCP,CAAA,CAAS,CAAT,CAApCO,CAEpB,CAHoBD,IAAAG,CAAKD,GAALC,CAAS,IAAA,CAAKb,gBAAL,CAAsB,CAAtB,CAATa,CAAoCT,CAAA,CAAS,CAAT,CAApCS,CAGpB,EACE,IACA,CADKtC,IACL,CADY,CACZ,CAAA,IAAA,CAAKD,IAAL,CAAYkC,IAFd,GAKE,IACA,CADKlC,IACL,CADY,CACZ,CAAA,IAAA,CAAKC,IAAL,CAAYkC,IANd,CAGE,KAAA,CAAKjB,QAAL,CAAgB,CAAA,CA1BgB,CAVT,CAlHgC,CAgK7DW,gBAAiBA,QAAQ,CAACL,CAAD,CAAI,CAC3B,IAAMf,KAAO,IAAPA,CAAYA,IACZqB,EAAAA,CAAWN,CAAXM,CAAaC,MAAbD,CAAoBE,IAE1B,KAAIE,KAAO,CAAX,CACIC,KAAO,CAEP1B,KAAJ,CAASnB,UAAT,EAAqC,CAArC,CAAuBwC,CAAA,CAAS,CAAT,CAAvB,GACEI,IADF,CACS,EADT,CAIIzB,KAAJ,CAASlB,UAAT,EAAqC,CAArC,CAAuBuC,CAAA,CAAS,CAAT,CAAvB,GACEI,IADF,CACS,CADT,CAIIzB,KAAJ,CAAShB,UAAT,EAAqC,CAArC,CAAuBqC,CAAA,CAAS,CAAT,CAAvB,GACEK,IADF,CACS,EADT,CAII1B,KAAJ,CAASjB,UAAT,EAAqC,CAArC,CAAuBsC,CAAA,CAAS,CAAT,CAAvB,GACEK,IADF,CACS,CADT,CAIIC,KAAA,CAAKE,GAAL,CAASR,CAAA,CAAS,CAAT,CAAT,CAAJ;AAA4BM,IAAA,CAAKE,GAAL,CAASR,CAAA,CAAS,CAAT,CAAT,CAA5B,EACE,IACA,CADK7B,IACL,CADY,CACZ,CAAA,IAAA,CAAKD,IAAL,CAAYkC,IAFd,GAIE,IACA,CADKlC,IACL,CADY,CACZ,CAAA,IAAA,CAAKC,IAAL,CAAYkC,IALd,CAvB2B,CAhKgC,CAA9C,CAJ4G;",
"sources":["node_modules/aframe-extras/src/controls/trackpad-controls.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$aframe_extras$src$controls$trackpad_controls\"] = function(global,require,module,exports) {\n/**\n * 3dof (Gear VR, Daydream) controls for mobile.\n */\nmodule.exports = AFRAME.registerComponent('trackpad-controls', {\n  schema: {\n    enabled: { default: true },\n    enableNegX: { default: true },\n    enablePosX: { default: true },\n    enableNegZ: { default: true },\n    enablePosZ: { default: true },\n    mode: { default: 'touch', oneOf: ['swipe', 'touch', 'press'] }\n\n  },\n\n  init: function () {\n    this.dVelocity = new THREE.Vector3();\n    this.zVel      = 0;\n    this.xVel      = 0;\n    this.bindMethods();\n  },\n\n  play: function () {\n    this.addEventListeners();\n  },\n\n  pause: function () {\n    this.removeEventListeners();\n    this.dVelocity.set(0, 0, 0);\n  },\n\n  remove: function () {\n    this.pause();\n  },\n\n  addEventListeners: function () {\n    const data = this.data;\n    const sceneEl = this.el.sceneEl;\n\n    sceneEl.addEventListener('axismove', this.onAxisMove);\n\n    switch (data.mode) {\n      case 'swipe':\n      case 'touch':\n        sceneEl.addEventListener('trackpadtouchstart', this.onTouchStart);\n        sceneEl.addEventListener('trackpadtouchend', this.onTouchEnd);\n        break;\n\n      case 'press':\n        sceneEl.addEventListener('trackpaddown', this.onTouchStart);\n        sceneEl.addEventListener('trackpadup', this.onTouchEnd);\n        break;\n    }\n\n  },\n\n  removeEventListeners: function () {\n    const sceneEl = this.el.sceneEl;\n\n    sceneEl.removeEventListener('axismove', this.onAxisMove);\n    sceneEl.removeEventListener('trackpadtouchstart', this.onTouchStart);\n    sceneEl.removeEventListener('trackpadtouchend', this.onTouchEnd);\n    sceneEl.removeEventListener('trackpaddown', this.onTouchStart);\n    sceneEl.removeEventListener('trackpadup', this.onTouchEnd);\n  },\n\n  isVelocityActive: function () {\n    return this.data.enabled && this.isMoving;\n  },\n\n  getVelocityDelta: function () {\n    this.dVelocity.z = this.isMoving ? -this.zVel : 1;\n    this.dVelocity.x = this.isMoving ? this.xVel : 1;\n    return this.dVelocity.clone();\n  },\n\n  bindMethods: function () {\n    this.onTouchStart = this.onTouchStart.bind(this);\n    this.onTouchEnd = this.onTouchEnd.bind(this);\n    this.onAxisMove = this.onAxisMove.bind(this);\n  },\n\n  onTouchStart: function (e) {\n    switch(this.data.mode){\n      case 'swipe':\n        this.canRecordAxis = true;\n        this.startingAxisData = [];\n        break;\n      case 'touch':\n        this.isMoving = true;\n        break;\n      case 'press':\n        this.isMoving = true;\n        break;\n    }\n\n    e.preventDefault();\n  },\n\n  onTouchEnd: function (e) {\n    if(this.data.mode == 'swipe') {\n        this.startingAxisData = [];\n    }\n\n    this.isMoving = false;\n    e.preventDefault();\n  },\n\n  onAxisMove: function(e){\n    switch (this.data.mode) {\n      case 'swipe':\n        return this.handleSwipeAxis(e);\n      case 'touch':\n      case 'press':\n        return this.handleTouchAxis(e);\n    }\n  },\n\n  handleSwipeAxis: function(e) {\n    const data = this.data;\n    const axisData = e.detail.axis;\n\n    if(this.startingAxisData.length === 0 && this.canRecordAxis){\n      this.canRecordAxis = false;\n      this.startingAxisData[0] = axisData[0];\n      this.startingAxisData[1] = axisData[1];\n    }\n\n    if(this.startingAxisData.length > 0){\n      let velX = 0;\n      let velZ = 0;\n\n      if (data.enableNegX && axisData[0] < this.startingAxisData[0]) {\n        velX = -1;\n      }\n\n      if (data.enablePosX && axisData[0] > this.startingAxisData[0]) {\n        velX = 1;\n      }\n\n      if (data.enablePosZ && axisData[1] > this.startingAxisData[1]) {\n        velZ = -1;\n      }\n\n      if (data.enableNegZ && axisData[1] < this.startingAxisData[1]) {\n        velZ = 1;\n      }\n\n      const absChangeZ  = Math.abs(this.startingAxisData[1] - axisData[1]);\n      const absChangeX  = Math.abs(this.startingAxisData[0] - axisData[0]);\n\n      if (absChangeX > absChangeZ) {\n        this.zVel = 0;\n        this.xVel = velX;\n        this.isMoving = true;\n      } else {\n        this.xVel = 0;\n        this.zVel = velZ;\n        this.isMoving = true;\n      }\n\n    }\n  },\n\n  handleTouchAxis: function(e) {\n    const data = this.data;\n    const axisData = e.detail.axis;\n\n    let velX = 0;\n    let velZ = 0;\n\n    if (data.enableNegX && axisData[0] < 0) {\n      velX = -1;\n    }\n\n    if (data.enablePosX && axisData[0] > 0) {\n      velX = 1;\n    }\n\n    if (data.enablePosZ && axisData[1] > 0) {\n      velZ = -1;\n    }\n\n    if (data.enableNegZ && axisData[1] < 0) {\n      velZ = 1;\n    }\n\n    if (Math.abs(axisData[0]) > Math.abs(axisData[1])) {\n      this.zVel = 0;\n      this.xVel = velX;\n    } else {\n      this.xVel = 0;\n      this.zVel = velZ;\n    }\n\n  }\n\n});\n\n\n};"],
"names":["shadow$provide","global","require","module","exports","AFRAME","registerComponent","schema","enabled","default","enableNegX","enablePosX","enableNegZ","enablePosZ","mode","oneOf","init","dVelocity","THREE","Vector3","xVel","zVel","bindMethods","play","addEventListeners","pause","removeEventListeners","set","remove","data","sceneEl","el","addEventListener","onAxisMove","onTouchStart","onTouchEnd","removeEventListener","isVelocityActive","isMoving","getVelocityDelta","z","x","clone","bind","e","canRecordAxis","startingAxisData","preventDefault","handleSwipeAxis","handleTouchAxis","axisData","detail","axis","length","velX","velZ","Math","absChangeX","abs","absChangeZ"]
}
