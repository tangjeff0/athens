shadow$provide.module$node_modules$three$examples$jsm$controls$OrbitControls=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.MapControls=exports.OrbitControls=void 0;var _threeModule=require("module$node_modules$three$build$three_module"),OrbitControls=function(object,domElement$jscomp$0){function getZoomScale(){return Math.pow(.95,scope.zoomSpeed)}function dollyOut(dollyScale){scope.object.isPerspectiveCamera?scale/=dollyScale:scope.object.isOrthographicCamera?
(scope.object.zoom=Math.max(scope.minZoom,Math.min(scope.maxZoom,scope.object.zoom*dollyScale)),scope.object.updateProjectionMatrix(),zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),scope.enableZoom=!1)}function dollyIn(dollyScale){scope.object.isPerspectiveCamera?scale*=dollyScale:scope.object.isOrthographicCamera?(scope.object.zoom=Math.max(scope.minZoom,Math.min(scope.maxZoom,scope.object.zoom/dollyScale)),scope.object.updateProjectionMatrix(),
zoomChanged=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),scope.enableZoom=!1)}function handleTouchStartRotate(event){1==event.touches.length?rotateStart.set(event.touches[0].pageX,event.touches[0].pageY):rotateStart.set(.5*(event.touches[0].pageX+event.touches[1].pageX),.5*(event.touches[0].pageY+event.touches[1].pageY))}function handleTouchStartPan(event){1==event.touches.length?panStart.set(event.touches[0].pageX,event.touches[0].pageY):
panStart.set(.5*(event.touches[0].pageX+event.touches[1].pageX),.5*(event.touches[0].pageY+event.touches[1].pageY))}function handleTouchStartDolly(event){var dx=event.touches[0].pageX-event.touches[1].pageX;event=event.touches[0].pageY-event.touches[1].pageY;dollyStart.set(0,Math.sqrt(dx*dx+event*event))}function handleTouchMoveRotate(event){1==event.touches.length?rotateEnd.set(event.touches[0].pageX,event.touches[0].pageY):rotateEnd.set(.5*(event.touches[0].pageX+event.touches[1].pageX),.5*(event.touches[0].pageY+
event.touches[1].pageY));rotateDelta.subVectors(rotateEnd,rotateStart).multiplyScalar(scope.rotateSpeed);event=scope.domElement;sphericalDelta.theta-=2*Math.PI*rotateDelta.x/event.clientHeight;sphericalDelta.phi-=2*Math.PI*rotateDelta.y/event.clientHeight;rotateStart.copy(rotateEnd)}function handleTouchMovePan(event){1==event.touches.length?panEnd.set(event.touches[0].pageX,event.touches[0].pageY):panEnd.set(.5*(event.touches[0].pageX+event.touches[1].pageX),.5*(event.touches[0].pageY+event.touches[1].pageY));
panDelta.subVectors(panEnd,panStart).multiplyScalar(scope.panSpeed);pan(panDelta.x,panDelta.y);panStart.copy(panEnd)}function handleTouchMoveDolly(event){var dx=event.touches[0].pageX-event.touches[1].pageX;event=event.touches[0].pageY-event.touches[1].pageY;dollyEnd.set(0,Math.sqrt(dx*dx+event*event));dollyDelta.set(0,Math.pow(dollyEnd.y/dollyStart.y,scope.zoomSpeed));dollyOut(dollyDelta.y);dollyStart.copy(dollyEnd)}function onPointerDown(event){if(!1!==scope.enabled)switch(event.pointerType){case "mouse":case "pen":onMouseDown(event)}}
function onPointerMove(event){if(!1!==scope.enabled)switch(event.pointerType){case "mouse":case "pen":if(!1!==scope.enabled)switch(event.preventDefault(),state){case STATE.ROTATE:if(!1===scope.enableRotate)break;rotateEnd.set(event.clientX,event.clientY);rotateDelta.subVectors(rotateEnd,rotateStart).multiplyScalar(scope.rotateSpeed);event=scope.domElement;sphericalDelta.theta-=2*Math.PI*rotateDelta.x/event.clientHeight;sphericalDelta.phi-=2*Math.PI*rotateDelta.y/event.clientHeight;rotateStart.copy(rotateEnd);
scope.update();break;case STATE.DOLLY:if(!1===scope.enableZoom)break;dollyEnd.set(event.clientX,event.clientY);dollyDelta.subVectors(dollyEnd,dollyStart);0<dollyDelta.y?dollyOut(getZoomScale()):0>dollyDelta.y&&dollyIn(getZoomScale());dollyStart.copy(dollyEnd);scope.update();break;case STATE.PAN:!1!==scope.enablePan&&(panEnd.set(event.clientX,event.clientY),panDelta.subVectors(panEnd,panStart).multiplyScalar(scope.panSpeed),pan(panDelta.x,panDelta.y),panStart.copy(panEnd),scope.update())}}}function onPointerUp(event){switch(event.pointerType){case "mouse":case "pen":scope.domElement.ownerDocument.removeEventListener("pointermove",
onPointerMove),scope.domElement.ownerDocument.removeEventListener("pointerup",onPointerUp),!1!==scope.enabled&&(scope.dispatchEvent(endEvent),state=STATE.NONE)}}function onMouseDown(event){event.preventDefault();scope.domElement.focus?scope.domElement.focus():window.focus();switch(event.button){case 0:var mouseAction=scope.mouseButtons.LEFT;break;case 1:mouseAction=scope.mouseButtons.MIDDLE;break;case 2:mouseAction=scope.mouseButtons.RIGHT;break;default:mouseAction=-1}switch(mouseAction){case _threeModule.MOUSE.DOLLY:if(!1===
scope.enableZoom)return;dollyStart.set(event.clientX,event.clientY);state=STATE.DOLLY;break;case _threeModule.MOUSE.ROTATE:if(event.ctrlKey||event.metaKey||event.shiftKey){if(!1===scope.enablePan)return;panStart.set(event.clientX,event.clientY);state=STATE.PAN}else{if(!1===scope.enableRotate)return;rotateStart.set(event.clientX,event.clientY);state=STATE.ROTATE}break;case _threeModule.MOUSE.PAN:if(event.ctrlKey||event.metaKey||event.shiftKey){if(!1===scope.enableRotate)return;rotateStart.set(event.clientX,
event.clientY);state=STATE.ROTATE}else{if(!1===scope.enablePan)return;panStart.set(event.clientX,event.clientY);state=STATE.PAN}break;default:state=STATE.NONE}state!==STATE.NONE&&(scope.domElement.ownerDocument.addEventListener("pointermove",onPointerMove),scope.domElement.ownerDocument.addEventListener("pointerup",onPointerUp),scope.dispatchEvent(startEvent))}function onMouseWheel(event){!1===scope.enabled||!1===scope.enableZoom||state!==STATE.NONE&&state!==STATE.ROTATE||(event.preventDefault(),
event.stopPropagation(),scope.dispatchEvent(startEvent),0>event.deltaY?dollyIn(getZoomScale()):0<event.deltaY&&dollyOut(getZoomScale()),scope.update(),scope.dispatchEvent(endEvent))}function onKeyDown(event){if(!1!==scope.enabled&&!1!==scope.enablePan){var needsUpdate=!1;switch(event.keyCode){case scope.keys.UP:pan(0,scope.keyPanSpeed);needsUpdate=!0;break;case scope.keys.BOTTOM:pan(0,-scope.keyPanSpeed);needsUpdate=!0;break;case scope.keys.LEFT:pan(scope.keyPanSpeed,0);needsUpdate=!0;break;case scope.keys.RIGHT:pan(-scope.keyPanSpeed,
0),needsUpdate=!0}needsUpdate&&(event.preventDefault(),scope.update())}}function onTouchStart(event){if(!1!==scope.enabled){event.preventDefault();switch(event.touches.length){case 1:switch(scope.touches.ONE){case _threeModule.TOUCH.ROTATE:if(!1===scope.enableRotate)return;handleTouchStartRotate(event);state=STATE.TOUCH_ROTATE;break;case _threeModule.TOUCH.PAN:if(!1===scope.enablePan)return;handleTouchStartPan(event);state=STATE.TOUCH_PAN;break;default:state=STATE.NONE}break;case 2:switch(scope.touches.TWO){case _threeModule.TOUCH.DOLLY_PAN:if(!1===
scope.enableZoom&&!1===scope.enablePan)return;scope.enableZoom&&handleTouchStartDolly(event);scope.enablePan&&handleTouchStartPan(event);state=STATE.TOUCH_DOLLY_PAN;break;case _threeModule.TOUCH.DOLLY_ROTATE:if(!1===scope.enableZoom&&!1===scope.enableRotate)return;scope.enableZoom&&handleTouchStartDolly(event);scope.enableRotate&&handleTouchStartRotate(event);state=STATE.TOUCH_DOLLY_ROTATE;break;default:state=STATE.NONE}break;default:state=STATE.NONE}state!==STATE.NONE&&scope.dispatchEvent(startEvent)}}
function onTouchMove(event){if(!1!==scope.enabled)switch(event.preventDefault(),event.stopPropagation(),state){case STATE.TOUCH_ROTATE:if(!1===scope.enableRotate)break;handleTouchMoveRotate(event);scope.update();break;case STATE.TOUCH_PAN:if(!1===scope.enablePan)break;handleTouchMovePan(event);scope.update();break;case STATE.TOUCH_DOLLY_PAN:if(!1===scope.enableZoom&&!1===scope.enablePan)break;scope.enableZoom&&handleTouchMoveDolly(event);scope.enablePan&&handleTouchMovePan(event);scope.update();break;
case STATE.TOUCH_DOLLY_ROTATE:if(!1===scope.enableZoom&&!1===scope.enableRotate)break;scope.enableZoom&&handleTouchMoveDolly(event);scope.enableRotate&&handleTouchMoveRotate(event);scope.update();break;default:state=STATE.NONE}}function onTouchEnd(event){!1!==scope.enabled&&(scope.dispatchEvent(endEvent),state=STATE.NONE)}function onContextMenu(event){!1!==scope.enabled&&event.preventDefault()}void 0===domElement$jscomp$0&&console.warn('THREE.OrbitControls: The second parameter "domElement" is now mandatory.');
domElement$jscomp$0===document&&console.error('THREE.OrbitControls: "document" should not be used as the target "domElement". Please use "renderer.domElement" instead.');this.object=object;this.domElement=domElement$jscomp$0;this.enabled=!0;this.target=new _threeModule.Vector3;this.minDistance=0;this.maxDistance=Infinity;this.minZoom=0;this.maxZoom=Infinity;this.minPolarAngle=0;this.maxPolarAngle=Math.PI;this.minAzimuthAngle=-Infinity;this.maxAzimuthAngle=Infinity;this.enableDamping=!1;this.dampingFactor=
.05;this.enableZoom=!0;this.zoomSpeed=1;this.enableRotate=!0;this.rotateSpeed=1;this.enablePan=!0;this.panSpeed=1;this.screenSpacePanning=!0;this.keyPanSpeed=7;this.autoRotate=!1;this.autoRotateSpeed=2;this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40};this.mouseButtons={LEFT:_threeModule.MOUSE.ROTATE,MIDDLE:_threeModule.MOUSE.DOLLY,RIGHT:_threeModule.MOUSE.PAN};this.touches={ONE:_threeModule.TOUCH.ROTATE,TWO:_threeModule.TOUCH.DOLLY_PAN};this.target0=this.target.clone();this.position0=this.object.position.clone();
this.zoom0=this.object.zoom;this._domElementKeyEvents=null;this.getPolarAngle=function(){return spherical.phi};this.getAzimuthalAngle=function(){return spherical.theta};this.listenToKeyEvents=function(domElement){domElement.addEventListener("keydown",onKeyDown);this._domElementKeyEvents=domElement};this.saveState=function(){scope.target0.copy(scope.target);scope.position0.copy(scope.object.position);scope.zoom0=scope.object.zoom};this.reset=function(){scope.target.copy(scope.target0);scope.object.position.copy(scope.position0);
scope.object.zoom=scope.zoom0;scope.object.updateProjectionMatrix();scope.dispatchEvent(changeEvent);scope.update();state=STATE.NONE};this.update=function(){var offset=new _threeModule.Vector3,quat=(new _threeModule.Quaternion).setFromUnitVectors(object.up,new _threeModule.Vector3(0,1,0)),quatInverse=quat.clone().invert(),lastPosition=new _threeModule.Vector3,lastQuaternion=new _threeModule.Quaternion,twoPI=2*Math.PI;return function(){var position=scope.object.position;offset.copy(position).sub(scope.target);
offset.applyQuaternion(quat);spherical.setFromVector3(offset);scope.autoRotate&&state===STATE.NONE&&(sphericalDelta.theta-=2*Math.PI/60/60*scope.autoRotateSpeed);scope.enableDamping?(spherical.theta+=sphericalDelta.theta*scope.dampingFactor,spherical.phi+=sphericalDelta.phi*scope.dampingFactor):(spherical.theta+=sphericalDelta.theta,spherical.phi+=sphericalDelta.phi);var min=scope.minAzimuthAngle,max=scope.maxAzimuthAngle;isFinite(min)&&isFinite(max)&&(min<-Math.PI?min+=twoPI:min>Math.PI&&(min-=twoPI),
max<-Math.PI?max+=twoPI:max>Math.PI&&(max-=twoPI),spherical.theta=min<=max?Math.max(min,Math.min(max,spherical.theta)):spherical.theta>(min+max)/2?Math.max(min,spherical.theta):Math.min(max,spherical.theta));spherical.phi=Math.max(scope.minPolarAngle,Math.min(scope.maxPolarAngle,spherical.phi));spherical.makeSafe();spherical.radius*=scale;spherical.radius=Math.max(scope.minDistance,Math.min(scope.maxDistance,spherical.radius));!0===scope.enableDamping?scope.target.addScaledVector(panOffset,scope.dampingFactor):
scope.target.add(panOffset);offset.setFromSpherical(spherical);offset.applyQuaternion(quatInverse);position.copy(scope.target).add(offset);scope.object.lookAt(scope.target);!0===scope.enableDamping?(sphericalDelta.theta*=1-scope.dampingFactor,sphericalDelta.phi*=1-scope.dampingFactor,panOffset.multiplyScalar(1-scope.dampingFactor)):(sphericalDelta.set(0,0,0),panOffset.set(0,0,0));scale=1;return zoomChanged||lastPosition.distanceToSquared(scope.object.position)>EPS||8*(1-lastQuaternion.dot(scope.object.quaternion))>
EPS?(scope.dispatchEvent(changeEvent),lastPosition.copy(scope.object.position),lastQuaternion.copy(scope.object.quaternion),zoomChanged=!1,!0):!1}}();this.dispose=function(){scope.domElement.removeEventListener("contextmenu",onContextMenu);scope.domElement.removeEventListener("pointerdown",onPointerDown);scope.domElement.removeEventListener("wheel",onMouseWheel);scope.domElement.removeEventListener("touchstart",onTouchStart);scope.domElement.removeEventListener("touchend",onTouchEnd);scope.domElement.removeEventListener("touchmove",
onTouchMove);scope.domElement.ownerDocument.removeEventListener("pointermove",onPointerMove);scope.domElement.ownerDocument.removeEventListener("pointerup",onPointerUp);null!==scope._domElementKeyEvents&&scope._domElementKeyEvents.removeEventListener("keydown",onKeyDown)};var scope=this,changeEvent={type:"change"},startEvent={type:"start"},endEvent={type:"end"},STATE={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6},state=STATE.NONE,EPS=1E-6,spherical=
new _threeModule.Spherical,sphericalDelta=new _threeModule.Spherical,scale=1,panOffset=new _threeModule.Vector3,zoomChanged=!1,rotateStart=new _threeModule.Vector2,rotateEnd=new _threeModule.Vector2,rotateDelta=new _threeModule.Vector2,panStart=new _threeModule.Vector2,panEnd=new _threeModule.Vector2,panDelta=new _threeModule.Vector2,dollyStart=new _threeModule.Vector2,dollyEnd=new _threeModule.Vector2,dollyDelta=new _threeModule.Vector2,panLeft=function(){var v=new _threeModule.Vector3;return function(distance,
objectMatrix){v.setFromMatrixColumn(objectMatrix,0);v.multiplyScalar(-distance);panOffset.add(v)}}(),panUp=function(){var v=new _threeModule.Vector3;return function(distance,objectMatrix){!0===scope.screenSpacePanning?v.setFromMatrixColumn(objectMatrix,1):(v.setFromMatrixColumn(objectMatrix,0),v.crossVectors(scope.object.up,v));v.multiplyScalar(distance);panOffset.add(v)}}(),pan=function(){var offset=new _threeModule.Vector3;return function(deltaX,deltaY){var element=scope.domElement;if(scope.object.isPerspectiveCamera){offset.copy(scope.object.position).sub(scope.target);
var targetDistance=offset.length();targetDistance*=Math.tan(scope.object.fov/2*Math.PI/180);panLeft(2*deltaX*targetDistance/element.clientHeight,scope.object.matrix);panUp(2*deltaY*targetDistance/element.clientHeight,scope.object.matrix)}else scope.object.isOrthographicCamera?(panLeft(deltaX*(scope.object.right-scope.object.left)/scope.object.zoom/element.clientWidth,scope.object.matrix),panUp(deltaY*(scope.object.top-scope.object.bottom)/scope.object.zoom/element.clientHeight,scope.object.matrix)):
(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),scope.enablePan=!1)}}();scope.domElement.addEventListener("contextmenu",onContextMenu);scope.domElement.addEventListener("pointerdown",onPointerDown);scope.domElement.addEventListener("wheel",onMouseWheel);scope.domElement.addEventListener("touchstart",onTouchStart);scope.domElement.addEventListener("touchend",onTouchEnd);scope.domElement.addEventListener("touchmove",onTouchMove);this.update()};exports.OrbitControls=
OrbitControls;OrbitControls.prototype=Object.create(_threeModule.EventDispatcher.prototype);OrbitControls.prototype.constructor=OrbitControls;global=function(object,domElement){OrbitControls.call(this,object,domElement);this.screenSpacePanning=!1;this.mouseButtons.LEFT=_threeModule.MOUSE.PAN;this.mouseButtons.RIGHT=_threeModule.MOUSE.ROTATE;this.touches.ONE=_threeModule.TOUCH.PAN;this.touches.TWO=_threeModule.TOUCH.DOLLY_ROTATE};exports.MapControls=global;global.prototype=Object.create(_threeModule.EventDispatcher.prototype);
global.prototype.constructor=global}
//# sourceMappingURL=module$node_modules$three$examples$jsm$controls$OrbitControls.js.map
