shadow$provide.module$node_modules$aframe_extras$src$pathfinding$system=function(global,require,module,exports){var Pathfinding=require("module$node_modules$three_pathfinding$dist$three_pathfinding").Pathfinding,pathfinder=new Pathfinding;module.exports=AFRAME.registerSystem("nav",{init:function(){this.navMesh=null;this.agents=new Set},setNavMeshGeometry:function(geometry){this.navMesh=new THREE.Mesh(geometry);pathfinder.setZoneData("level",Pathfinding.createZone(geometry));Array.from(this.agents).forEach(function(agent){return agent.updateNavLocation()})},
getNavMesh:function(){return this.navMesh},addAgent:function(ctrl){this.agents.add(ctrl)},removeAgent:function(ctrl){this.agents.delete(ctrl)},getPath:function(start,end,groupID){return this.navMesh?pathfinder.findPath(start,end,"level",groupID):null},getGroup:function(position){return this.navMesh?pathfinder.getGroup("level",position):null},getNode:function(position,groupID){return this.navMesh?pathfinder.getClosestNode(position,"level",groupID,!0):null},clampStep:function(start,end,groupID,node,
endTarget){return this.navMesh?node?pathfinder.clampStep(start,end,node,"level",groupID,endTarget):(endTarget.copy(end),this.getNode(end,groupID)):(endTarget.copy(end),null)}})}
//# sourceMappingURL=module$node_modules$aframe_extras$src$pathfinding$system.js.map
