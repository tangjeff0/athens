shadow$provide.module$node_modules$aframe_forcegraph_component$index=function(global,require,module,exports){if("undefined"===typeof AFRAME)throw Error("Component attempted to register before AFRAME was available.");var accessorFn=require("module$node_modules$accessor_fn$dist$accessor_fn_common");"default"in accessorFn&&(accessorFn=accessorFn.default);var ThreeForceGraph=require("module$node_modules$three_forcegraph$dist$three_forcegraph_common");"default"in ThreeForceGraph&&(ThreeForceGraph=ThreeForceGraph.default);
global=function(prop){return"string"===typeof prop?JSON.parse(prop):prop};var parseFn=function(prop){if("function"===typeof prop)return prop;var geval=eval;try{return geval("("+prop+")")}catch(e$232){}return null};require=function(prop){return isNaN(parseFloat(prop))?parseFn(prop)?parseFn(prop):prop:parseFloat(prop)};AFRAME.registerComponent("forcegraph",{schema:{jsonUrl:{type:"string",default:""},nodes:{parse:global,default:[]},links:{parse:global,default:[]},numDimensions:{type:"number",default:3},
dagMode:{type:"string",default:""},dagLevelDistance:{type:"number",default:0},dagNodeFilter:{parse:parseFn,function:function(){return!0}},onDagError:{parse:parseFn,default:void 0},nodeRelSize:{type:"number",default:4},nodeId:{type:"string",default:"id"},nodeLabel:{parse:require,default:"name"},nodeDesc:{parse:require,default:"desc"},nodeVal:{parse:require,default:"val"},nodeResolution:{type:"number",default:8},nodeVisibility:{parse:require,default:!0},nodeColor:{parse:require,default:"color"},nodeAutoColorBy:{parse:require,
default:""},nodeOpacity:{type:"number",default:.75},nodeThreeObject:{parse:require,default:null},nodeThreeObjectExtend:{parse:require,default:!1},linkSource:{type:"string",default:"source"},linkTarget:{type:"string",default:"target"},linkLabel:{parse:require,default:"name"},linkDesc:{parse:require,default:"desc"},linkHoverPrecision:{type:"number",default:2},linkVisibility:{parse:require,default:!0},linkColor:{parse:require,default:"color"},linkAutoColorBy:{parse:require,default:""},linkOpacity:{type:"number",
default:.2},linkWidth:{parse:require,default:0},linkResolution:{type:"number",default:6},linkCurvature:{parse:require,default:0},linkCurveRotation:{parse:require,default:0},linkMaterial:{parse:require,default:null},linkThreeObject:{parse:require,default:null},linkThreeObjectExtend:{parse:require,default:!1},linkPositionUpdate:{parse:parseFn,default:null},linkDirectionalArrowLength:{parse:require,default:0},linkDirectionalArrowColor:{parse:require,default:null},linkDirectionalArrowRelPos:{parse:require,
default:.5},linkDirectionalArrowResolution:{type:"number",default:8},linkDirectionalParticles:{parse:require,default:0},linkDirectionalParticleSpeed:{parse:require,default:.01},linkDirectionalParticleWidth:{parse:require,default:.5},linkDirectionalParticleColor:{parse:require,default:null},linkDirectionalParticleResolution:{type:"number",default:4},onNodeCenterHover:{parse:parseFn,default:function(){}},onLinkCenterHover:{parse:parseFn,default:function(){}},forceEngine:{type:"string",default:"d3"},
d3AlphaMin:{type:"number",default:0},d3AlphaDecay:{type:"number",default:.0228},d3VelocityDecay:{type:"number",default:.4},ngraphPhysics:{parse:global,default:null},warmupTicks:{type:"int",default:0},cooldownTicks:{type:"int",default:1E18},cooldownTime:{type:"int",default:15E3},onEngineTick:{parse:parseFn,default:function(){}},onEngineStop:{parse:parseFn,default:function(){}}},getGraphBbox:function(){this.forceGraph||(this.forceGraph=new ThreeForceGraph);return this.forceGraph.getGraphBbox()},emitParticle:function(){this.forceGraph||
(this.forceGraph=new ThreeForceGraph);var forceGraph=this.forceGraph,returnVal=forceGraph.emitParticle.apply(forceGraph,arguments);return returnVal===forceGraph?this:returnVal},d3Force:function(){this.forceGraph||(this.forceGraph=new ThreeForceGraph);var forceGraph=this.forceGraph,returnVal=forceGraph.d3Force.apply(forceGraph,arguments);return returnVal===forceGraph?this:returnVal},d3ReheatSimulation:function(){this.forceGraph&&this.forceGraph.d3ReheatSimulation();return this},refresh:function(){this.forceGraph&&
this.forceGraph.refresh();return this},init:function(){var state=this.state={};state.infoEl=document.createElement("a-text");state.infoEl.setAttribute("position","0 -0.1 -1");state.infoEl.setAttribute("width",1);state.infoEl.setAttribute("align","center");state.infoEl.setAttribute("color","lavender");state.tooltipEl=document.createElement("a-text");state.tooltipEl.setAttribute("position","0 -0.5 -1");state.tooltipEl.setAttribute("width",2);state.tooltipEl.setAttribute("align","center");state.tooltipEl.setAttribute("color",
"lavender");state.tooltipEl.setAttribute("value","");state.subTooltipEl=document.createElement("a-text");state.subTooltipEl.setAttribute("position","0 -0.6 -1");state.subTooltipEl.setAttribute("width",1.5);state.subTooltipEl.setAttribute("align","center");state.subTooltipEl.setAttribute("color","lavender");state.subTooltipEl.setAttribute("value","");var cameraEl=document.querySelector("a-entity[camera], a-camera");cameraEl.appendChild(state.infoEl);cameraEl.appendChild(state.tooltipEl);cameraEl.appendChild(state.subTooltipEl);
state.cameraObj=cameraEl.object3D.children.filter(function(child){return"PerspectiveCamera"===child.type})[0];this.el.sceneEl.addEventListener("camera-set-active",function(evt){state.cameraObj=evt.detail.cameraEl.components.camera.camera});this.forceGraph||(this.forceGraph=new ThreeForceGraph);this.el.object3D.add(this.forceGraph);this.forceGraph.onLoading(function(){state.infoEl.setAttribute("value","Loading...")}).onFinishLoading(function(){state.infoEl.setAttribute("value","")})},remove:function(){this.state.infoEl.remove();
this.state.tooltipEl.remove();this.state.subTooltipEl.remove()},update:function(oldData){var comp=this,elData=this.data,diff=AFRAME.utils.diff(elData,oldData);"jsonUrl numDimensions dagMode dagLevelDistance dagNodeFilter onDagError nodeRelSize nodeId nodeVal nodeResolution nodeVisibility nodeColor nodeAutoColorBy nodeOpacity nodeThreeObject nodeThreeObjectExtend linkSource linkTarget linkVisibility linkColor linkAutoColorBy linkOpacity linkWidth linkResolution linkCurvature linkCurveRotation linkMaterial linkThreeObject linkThreeObjectExtend linkPositionUpdate linkDirectionalArrowLength linkDirectionalArrowColor linkDirectionalArrowRelPos linkDirectionalArrowResolution linkDirectionalParticles linkDirectionalParticleSpeed linkDirectionalParticleWidth linkDirectionalParticleColor linkDirectionalParticleResolution forceEngine d3AlphaMin d3AphaDecay d3VelocityDecay ngraphPhysics warmupTicks cooldownTicks cooldownTime onEngineTick onEngineStop".split(" ").filter(function(p){return p in
diff}).forEach(function(p){comp.forceGraph[p](""!==elData[p]?elData[p]:null)});("nodes"in diff||"links"in diff)&&comp.forceGraph.graphData({nodes:elData.nodes,links:elData.links})},tick:function(t,td){t=new THREE.Raycaster;t.linePrecision=this.data.linkHoverPrecision;t.setFromCamera(new THREE.Vector2(0,0),this.state.cameraObj);t=t.intersectObjects(this.forceGraph.children).filter(function(o){return-1!==["node","link"].indexOf(o.object.__graphObjType)}).sort(function(a,b){return("node"===b.object.__graphObjType)-
("node"===a.object.__graphObjType)});t=t.length?t[0].object:null;if(t!==this.state.hoverObj){td=this.state.hoverObj?this.state.hoverObj.__graphObjType:null;var prevObjData=this.state.hoverObj?this.state.hoverObj.__data:null,objType=t?t.__graphObjType:null,objData=t?t.__data:null;if(td&&td!==objType)this.data["on"+("node"===td?"Node":"Link")+"CenterHover"](null,prevObjData);if(objType)this.data["on"+("node"===objType?"Node":"Link")+"CenterHover"](objData,td===objType?prevObjData:null);this.state.hoverObj=
t;this.state.tooltipEl.setAttribute("value",t?accessorFn(this.data[t.__graphObjType+"Label"])(t.__data)||"":"");this.state.subTooltipEl.setAttribute("value",t?accessorFn(this.data[t.__graphObjType+"Desc"])(t.__data)||"":"")}this.forceGraph.tickFrame()}})}
//# sourceMappingURL=module$node_modules$aframe_forcegraph_component$index.js.map
